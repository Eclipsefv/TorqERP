@inject AuthService AuthService
@inject NavigationManager NavManager

<MudNavMenu>
    <div class="pa-4">
        <MudText Typo="Typo.h6" Color="Color.Primary" Style="font-weight: bold">TorqERP</MudText>
    </div>
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>

    <AuthorizeView Roles="ADMIN">
        <Authorized>
            <MudNavGroup Title="Administración" Icon="@Icons.Material.Filled.Settings">
                <MudNavLink Href="/usuarios" Icon="@Icons.Material.Filled.People">Gestionar Usuarios</MudNavLink>
            </MudNavGroup>
        </Authorized>
    </AuthorizeView>

    <MudNavLink Href="/perfil" Icon="@Icons.Material.Filled.Person">Mi Perfil</MudNavLink>
    <MudDivider Class="my-2" />
    <MudNavLink OnClick="HandleLogout" Icon="@Icons.Material.Filled.Logout" IconColor="Color.Error">Cerrar Sesión</MudNavLink>
</MudNavMenu>
@code {
    private async Task HandleLogout()
    {
        await AuthService.Logout();
        NavManager.NavigateTo("/login");
    }
}
